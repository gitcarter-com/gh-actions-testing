---
  on: 
  workflow_dispatch:
   jobs:
    build:
       runs-on: ubuntu-latest
       steps:
       go: [ '1.14', '1.13' ]
       name: Setup Go environment
       uses: actions/setup-go@v3.2.0
    # Set this option to true if you want the action to always check for the latest available version that satisfies the version spec
       - check-latest: true
    # Used to pull node distributions from go-versions.  Since there's a default, this is typically not supplied by the user.
          token: ${{ github.token }}
    # Used to specify whether caching is needed. Set to true, if you'd like to enable caching.
          cache: # optional
    # Used to specify the path to a dependency file - go.sum
         cache-dependency-path: # optional0
         run: go run hello.go
         - name: Connect Tailscale
           uses:  tailscale/github-action@v1
               with:
            authkey: ${{ secrets.TAILSCALE_AUTHKEY }}
         - name: check for hello.ipn.dev in netmap
            run:
              tailscale status | grep -q hello
